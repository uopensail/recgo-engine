[server]
project_name = "honghu_engine"
grpc_port = 3527
http_port = 3528
prome_port = 3529
pprof_port =  3530
debug = true

[absdk]
scene_id=1
cache_size = 1000
ttl=300
schema = "grpc"
[absdk.grpc]
url = "grpc:///127.0.0.1:9527,127.0.0.1:9527"

[logsdk]
channel_size = 10000
flush_interval=1
[logsdk.grpc]
url = "grpc:///127.0.0.1:9527,127.0.0.1:9527"


[datasource]
[datasource.items]
name="items"
[datasource.items.download_config]
type="local"
source_path="conf/dev/test_data.tar.gz"
local_path="/tmp/test_data.db"
[datasource.items.download_config.extra]
tar_dir="test_data"

[strategies]
[strategies.feed_default.normal_recall]
timeout=50
[strategies.feed_default.normal_recall.recalls.rand]
recall_type = "rand"
[strategies.feed_default.simple_recall]
timeout=60
[strategies.feed_default.simple_recall.recalls.simple]
recall_type = "simple"
[[strategies.feed_default.weighed.weighers]]
name = "rand"
factor = 1.4
[[strategies.feed_default.weighed.weighers]]
name = "simple"
factor = 1.3


[[strategies.feed_default.layout.pos_chooser.0]]
name = "recall"
[strategies.feed_default.layout.pos_chooser.0.extra]
recall_name = "hottest_cat"
[[strategies.feed_default.layout.pos_chooser.1]]
name = "recall"
[strategies.feed_default.layout.pos_chooser.1.extra]
recall_name = "hottest_cat"
[[strategies.feed_default.layout.pos_chooser.2]]
name = "recall"
[strategies.feed_default.layout.pos_chooser.2.extra]
recall_name = "rand"
[[strategies.feed_default.layout.pos_chooser.3]]
name = "recall"
[strategies.feed_default.layout.pos_chooser.3.extra]
recall_name = "hottest_cat"
[[strategies.feed_default.layout.pos_chooser.4]]
name = "recall"
[strategies.feed_default.layout.pos_chooser.4.extra]
recall_name = "rand"
[[strategies.feed_default.layout.pos_chooser.5]]
name = "recall"
[strategies.feed_default.layout.pos_chooser.5.extra]
recall_name = "rand"